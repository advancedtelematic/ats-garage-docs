= Provisioning methods and credentials.zip
:page-layout: page
:page-categories: [concepts]
:page-date: 2018-03-15 16:15:17
:page-order: 99
:icons: font

If you're trying to work on integrating {product-name} into your device build, it may be helpful to have a little bit of reference information on how the different provisioning methods work together, and what exactly the magic sauce inside `credentials.zip` is.

== `credentials.zip` file format

First, a table:

include::https://raw.githubusercontent.com/advancedtelematic/aktualizr/master/docs/credentials.adoc[tag="credentials-table"]

As you can see, the relevant files for the device itself are `autoprov_credentials.p12` and `autoprov.url`.

When you turn on link:../prod/implicit-provisioning-with-a-hardware-security-module.html[implicit provisioning via HSM], the `implicit_writer` function in meta-updater takes over. The initial credentials on the device won't be valid; this is why you need to copy in the generated ones after booting it.

== Implicit provisioning required configuration options

More generally, implicit provisioning needs to get various certificates and keys from somewhere. This table summarizes what is needed, and where it comes from in the HSM implicit provisioning case.

include::https://raw.githubusercontent.com/advancedtelematic/aktualizr/master/docs/hsm-provisioning.adoc[tag="summary-table"]

NOTE: The "Fleet Root CA" is the one generated in step 1 of the link:../prod/implicit-provisioning-with-a-hardware-security-module.html[implicit provisioning via HSM] instructions.
